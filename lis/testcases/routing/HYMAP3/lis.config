#Overall driver options:
Running mode: 		            "retrospective"
Map projection of the LIS domain:   "latlon"
Number of nests:                    1
Number of surface model types:      1
Surface model types:                "LSM"
Surface model output interval:      1mo         # "1da", "1hr"
Land surface model:                     "Noah-MP.4.0.1"
Number of met forcing sources:      1
Blending method for forcings:       "overlay"

Met forcing sources:                "NLDAS2 grib"
Topographic correction method (met forcing):  "none"
Enable spatial downscaling of precipitation:  0
Spatial interpolation method (met forcing):   "neighbor"
Spatial upscaling method (met forcing):       "average"
Temporal interpolation method (met forcing):  "linear"
Met forcing chosen ensemble member:     1

#Runtime options:
Forcing variables list file:              ./input/forcing_variables_v2.txt
Output methodology:                        "2d gridspace"
Output model restart files:                1
Output data format:                        "netcdf"
Output naming style:                       "3 level hierarchy"
Start mode:                             coldstart
Starting year:                          1989
Starting month:                          12
Starting day:                            31
Starting hour:                             23
Starting minute:                           30
Starting second:                           0
Ending year:                            1991
Ending month:                           1
Ending day:                             01   # ensure 1st day output 
Ending hour:                               0
Ending minute:                             15
Ending second:                             0
Undefined value:                          -9999
Output directory:                         ./OUTPUT/
Diagnostic output file:                   ./OUTPUT/log/lislog
Number of ensembles per tile:       1
 
#The following options are used for subgrid tiling based on vegetation
Maximum number of surface type tiles per grid:     1
Minimum cutoff percentage (surface type tiles):    0.05
Maximum number of soil texture tiles per grid:     1
Minimum cutoff percentage (soil texture tiles):    0.05
Maximum number of soil fraction tiles per grid:    1
Minimum cutoff percentage (soil fraction tiles):   0.05
Maximum number of elevation bands per grid:        1
Minimum cutoff percentage (elevation bands):       0.05
Maximum number of slope bands per grid:            1
Minimum cutoff percentage (slope bands):           0.05
Maximum number of aspect bands per grid:           1
Minimum cutoff percentage (aspect bands):          0.05

#Processor Layout	
#Should match the total number of processors used
Number of processors along x:       1
Number of processors along y:       46

Halo size along x: 0
Halo size along y: 0 

#------------------------ ROUTING -------------------------------------
#HYMAP3 router 
Routing model:                       "HYMAP3 router"

HYMAP3 routing model time step:               "30mn" 
HYMAP3 routing model output interval:         "1da"
HYMAP3 routing model restart interval:        "1mo"

HYMAP3 run in ensemble mode:                 0
HYMAP3 routing model restart file:      ./TEST/resop_3/ROUTING/201912/LIS_RST_HYMAP3_router_201912312330.d01.nc
HYMAP3 routing model start mode:        coldstart

HYMAP3 runoff bias correction: 1

#------------------------ IRRIGATION ---------------------------------

Irrigation scheme:            "none"
Irrigation output interval:   "1da"

# UMD-landcover and "CROPMAP" crop types (Leff et al. 2004):
Sprinkler irrigation max root depth file: ./input/LS_PARAMETERS/irrigation/conus_modis/maxrootdepth32.txt

#------------------------RADIATIVE TRANSFER MODELS--------------------------

Radiative transfer model:   "none"

#------------------------APPLICATION MODELS---------------------------------

Number of application models: 0

#------------------------DOMAIN SPECIFICATION--------------------------
#Definition of Running Domain

#The following options list the choice of parameter maps to be used
 
LIS domain and parameter data file:     ./lis_input.nc

Landmask data source:                   LDT
Landcover data source:                  LDT
Soil texture data source:               LDT
Soil fraction data source:              none
Soil color data source:                 none
Elevation data source:                  LDT
Slope data source:                      LDT
Aspect data source:                     LDT
Curvature data source:                  none
LAI data source:                        none
SAI data source:                        none
Albedo data source:                     LDT
Max snow albedo data source:            LDT
Greenness data source:                  LDT
Roughness data source:                  none
Porosity data source:                   none
Ksat data source:                       none
B parameter data source:                none
Quartz data source:                     none
Emissivity data source:                 none

#--------------------------------FORCINGS----------------------------------
#PRINCETON
PRINCETON forcing directory:      ./input/MET_FORCING/PRINCETON/V2.2_Classic/
PRINCETON forcing version:        "2.2"


# MERRA-2 base forcing:
MERRA2 forcing directory:       ./input/MET_FORCING/MERRA2/
MERRA2 use lowest model level forcing:     1
MERRA2 use corrected total precipitation:  1

IMERG forcing directory:  ./input/MET_FORCING/IMERG/Final_V06B/
IMERG product:           'final'
IMERG version:           V06B

NLDAS2 forcing directory:               ./input/MET_FORCING/NLDAS2.FORCING
NLDAS2 data center source:              "GES-DISC"
NLDAS2 use model level data:            0
NLDAS2 use model based swdown:          0
NLDAS2 use model based precip:          0
NLDAS2 use model based pressure:        0

#-----------------------LAND SURFACE MODELS--------------------------

Noah-MP.4.0.1 model timestep:               30mn
Noah-MP.4.0.1 restart output interval:       1mo
Noah-MP.4.0.1 restart file:                  ./TEST/resop_3/SURFACEMODEL/201912/LIS_RST_NOAHMP401_201912312330.d01.nc
#Noah-MP.4.0.1 restart file:                  ./TEST/resop_2/SURFACEMODEL/201007/LIS_RST_NOAHMP401_201007312330.d01.nc
Noah-MP.4.0.1 restart file format:           netcdf
Noah-MP.4.0.1 soil parameter table:          ./input/LS_PARAMETERS/noahmp401_parms/SOILPARM.TBL
Noah-MP.4.0.1 general parameter table:       ./input/LS_PARAMETERS/noahmp401_parms/GENPARM.TBL
Noah-MP.4.0.1 MP parameter table:            ./input/LS_PARAMETERS/noahmp401_parms/MPTABLE.TBL
Noah-MP.4.0.1 number of soil layers:         4
Noah-MP.4.0.1 thickness of soil layers:      0.1  0.3  0.6  1.0
Noah-MP.4.0.1 dynamic vegetation option:                      2  # Up to 10 different options
Noah-MP.4.0.1 canopy stomatal resistance option:              1  # 1=Ball-Berry; 2=Jarvis
Noah-MP.4.0.1 soil moisture factor for stomatal resistance:   1  # 1=Noah; 2=CLM; 3=SSiB
Noah-MP.4.0.1 runoff and groundwater option:                  1  # 1=SIMGM; 2=SIMTOP; 3=Schaake96; 4=BATS; 5=Miguez-Macho&Fan
Noah-MP.4.0.1 surface layer drag coefficient option:          1  # 1=M-O; 2=Chen97
Noah-MP.4.0.1 supercooled liquid water option:                1  # 1=NY06; 2=Koren99
Noah-MP.4.0.1 frozen soil permeability option:                1  # 1=NY06; 2=Koren99
Noah-MP.4.0.1 radiation transfer option:                      1  # 1=gap=F(3D;cosz); 2=gap=0; 3=gap=1-Fveg
Noah-MP.4.0.1 snow surface albedo option:                     2  # 1=BATS; 2=CLASS
Noah-MP.4.0.1 rainfall & snowfall option:                     1  # 1=Jordan91; 2=BATS; 3=Noah
Noah-MP.4.0.1 lower boundary of soil temperature option:      2  # 1=zero-flux; 2=Noah
Noah-MP.4.0.1 snow&soil temperature time scheme option:       1  # 1=semi-implicit; 2=fully implicit; 3=FSNO for TS
Noah-MP.4.0.1 glacier option:                                 1  # 1=include phase change; 2=slab ice (Noah)
Noah-MP.4.0.1 surface resistance option:                      1  # 1=Sakaguchi and Zeng 2009; 2=Sellers (1992); 3=adjusted Sellers; 4=option1 for non-snow and rsurf_snow for snow
Noah-MP.4.0.1 soil configuration option:                      1  # 1=input dominant soil texture; 2=input soil texture varies that varies with depth; 3=soil composition and pedotransfer; 4=input soil properties
Noah-MP.4.0.1 soil pedotransfer function option:              1  # 1=Saxton and Rawls (2006) (used when soil_opt=3)
Noah-MP.4.0.1 crop model option:                              0  # 0=No crop model; 1=Liu et al. 2016; 2=Gecros
Noah-MP.4.0.1 urban physics option:                           0  # 0=No; 1=Single-layer; 2=Multi-layer BEP scheme; 3=Multi-layer BEM scheme
Noah-MP.4.0.1 reference height of temperature and humidity: 6.0
Noah-MP.4.0.1 initial surface skin temperature:           263.7
Noah-MP.4.0.1 initial snow water equivalent:                1.0
Noah-MP.4.0.1 initial snow depth:                          0.01
Noah-MP.4.0.1 initial total canopy surface water:          0.01
Noah-MP.4.0.1 initial soil temperatures:                  266.1  274.0  276.9  279.9
Noah-MP.4.0.1 initial total soil moistures:               0.298  0.294  0.271  0.307
Noah-MP.4.0.1 initial leaf area index:                      2.0
Noah-MP.4.0.1 initial water table depth:                    2.5
Noah-MP.4.0.1 initial water in the aquifer:                 4900.0
Noah-MP.4.0.1 initial water in aquifer and saturated soil:  4900.0

#---------------------------MODEL OUTPUT CONFIGURATION-----------------------
#Specify the list of ALMA variables that need to be featured in the
#LSM model output
Output start year:    1800
Output start month:   1
Output start day:     1
Output start hour:    0
Output start minutes: 0
Output start seconds: 0

#Model output attributes file:           './NoahMP_InputFiles/NOAHMP_OUTPUT_LIST_HYMAP.TBL'
Model output attributes file:           './MODEL_OUTPUT_LIST.TBL'

#---------------------DATA ASSIMILATION ----------------------------------

#Data Assimilation Options
Number of data assimilation instances:               0
Data assimilation algorithm:                         "none"
Data assimilation set:                               "none"
Data assimilation exclude analysis increments:       0
Data assimilation output interval for diagnostics:   "1da"
Data assimilation number of observation types:       0
Data assimilation output ensemble members:           0
Data assimilation output processed observations:     0
Data assimilation output innovations:                0
Number of state variables:                           0

Apply perturbation bias correction:        0
Bias estimation algorithm:                "none"
Bias estimation attributes file:          "none"
Bias estimation restart output frequency:
Bias estimation start mode:
Bias estimation restart file:

#Perturbation options
Perturbations start mode:                 "coldstart"
Perturbations restart output interval:    "1mo"
Perturbations restart filename:           "none"

Forcing perturbation algorithm:           "none"  #"GMAO scheme" 
Forcing perturbation frequency:           "1hr"
Forcing attributes file:                  "none" #./config/forcing_attribs.txt      
Forcing perturbation attributes file:     "none" #./config/forcing_pert_attribs.txt 

State perturbation algorithm:             "none" #"GMAO scheme"  
State perturbation frequency:             "3hr"
State attributes file:                    ./config/noah_snow_attribs.txt
State perturbation attributes file:       "none" #./config/noah_snow_pertattribs.txt 

Observation perturbation algorithm:       "none" #"GMAO scheme"  
Observation perturbation frequency:       "1da"
Observation attributes file:              ./config/SNODEP_attribs.txt
Observation perturbation attributes file: "none" #./config/SNODEP_pertattribs.txt 

SNODEP data directory:                  ./SNODEP/0p25
SNODEP mesh resolution:                   25
SNODEP use IMS data for snow detection:   1
SNODEP IMS data directory:               /discover/nobackup/projects/lis/RS_DATA/MODIS_sca/MOD10C1
SNODEP use MODIS (MOD10C1) data for snow detection:  1
SNODEP MOD10C1 data directory:           /discover/nobackup/projects/lis/RS_DATA/IMS_sca

#--------------------------------------------------------------------
